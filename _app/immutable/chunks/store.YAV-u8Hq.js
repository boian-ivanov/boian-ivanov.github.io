import{u as v,e as a,i as _,j as g,k as l,l as i,m,n as k,o as h,d as w,q as x,v as b,w as y}from"./runtime.TlEynDOI.js";import{s as j}from"./index.Cc_6Y1l6.js";function A(e=!1){const s=_,n=s.l.u;if(!n)return;let r=()=>k(s.s);if(e){let u=0,t={};const d=h(()=>{let c=!1;const f=s.s;for(const o in f)f[o]!==t[o]&&(t[o]=f[o],c=!0);return c&&u++,u});r=()=>i(d)}n.b.length&&v(()=>{p(s,r),l(n.b)}),a(()=>{const u=g(()=>n.m.map(m));return()=>{for(const t of u)typeof t=="function"&&t()}}),n.a.length&&a(()=>{p(s,r),l(n.a)})}function p(e,s){if(e.l.s)for(const n of e.l.s)i(n);s()}function B(e,s,n){const r=n[s]??(n[s]={store:null,source:x(void 0),unsubscribe:b});if(r.store!==e)if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=b;else{var u=!0;r.unsubscribe=j(e,t=>{u?r.source.v=t:y(r.source,t)}),u=!1}return i(r.source)}function C(){const e={};return w(()=>{for(var s in e)e[s].unsubscribe()}),e}export{B as a,A as i,C as s};
